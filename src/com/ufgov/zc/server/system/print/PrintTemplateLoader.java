package com.ufgov.zc.server.system.print;import java.io.File;import net.sf.jasperreports.engine.JRException;import net.sf.jasperreports.engine.JasperCompileManager;import net.sf.jasperreports.engine.JasperReport;import net.sf.jasperreports.engine.util.JRLoader;import com.ufgov.zc.common.system.exception.PrintException;import com.ufgov.zc.server.system.util.EnvironmentConfigUtil;public class PrintTemplateLoader {  private static final String REPORTSPATH = "reportspath";  public static JasperReport loadJasperReportFromXML(String templateCode) {    JasperReport jasperReport = null;    try {      String reportspath = EnvironmentConfigUtil.getInstance().get(REPORTSPATH);      reportspath += "/" + templateCode + ".xml";      File file = new File(reportspath);      if (file.exists()) {        jasperReport = JasperCompileManager.compileReport(reportspath);      }      else {        throw new PrintException("没有找到打印模板[" + templateCode + ".xml]");      }    } catch (JRException e) {      throw new PrintException(e.getMessage(), e);    }    return jasperReport;  }  public static JasperReport loadJasperReport(String templateCode) {    JasperReport jasperReport = null;    try {      String reportspath = EnvironmentConfigUtil.getInstance().get(REPORTSPATH);      reportspath += "/" + templateCode + ".jasper";      File file = new File(reportspath);      if (file.exists()) {        jasperReport = (JasperReport) JRLoader.loadObject(file);      }      else {        throw new PrintException("没有找到打印模板[" + templateCode + ".jasper]");      }    } catch (Exception e) {      throw new PrintException(e.getMessage(), e);    }    return jasperReport;  }}